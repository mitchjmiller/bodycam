import { NativeStackNavigationProp } from '@react-navigation/native-stack';
import { useState } from 'react';
import { View, StyleSheet, FlatList } from 'react-native';
import { Avatar, FAB, Text } from 'react-native-paper';

import Styles from '../styles/Styles';

type Props = {
  navigation: NativeStackNavigationProp<any, any>
};

export default function ContactsScreen({ navigation }: Props) {
  const [contacts, setContacts] = useState([
    { email: 'fake@mail2.com', firstName: 'Cassandra', lastName: 'Phan', profileImg: '', id: '1212-1212-1212' },
    { email: 'fake@mail.com', firstName: 'Megan', lastName: 'White', profileImg: 'data:image/jpeg;base64,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', id: '1234-1234-1234' }
  ]);

  return (
    <View style={[Styles.container, styles.container]}>

      <FlatList
        data={contacts}
        renderItem={({ item: contact }) => (
          <View style={styles.contactRow}>
            {
            contact.profileImg
              ? <Avatar.Image style={styles.avatar} size={52} source={{ uri: contact.profileImg }} />
              : <Avatar.Text style={styles.avatar} size={52} label={contact.firstName[0] + contact.lastName[0]} />
            }
            <Text>{`${contact.firstName} ${contact.lastName}`}</Text>
          </View>
        )}
      />

      <FAB
        style={styles.addContactButton}
        icon="plus"
        onPress={() => navigation.navigate('AddContact')}
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container:{
  },
  contactRow:{
    flexDirection: 'row',
    justifyContent: 'flex-start',
    alignItems: 'center'
  },
  avatar:{
    margin: 6
  },
  addContactButton:{
    alignSelf: 'center',
    position: 'absolute',
    bottom: 0,
    margin: 10
  }
});